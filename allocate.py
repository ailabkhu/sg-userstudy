import random
from collections import defaultdict

# 원본 데이터 100개
data = [
    181010700, 200017875, 188021625, 169011675, 16401950, 192024575, 193048075, 197062475, 193046575, 16206575,
    184032125, 181011450, 192023825, 172044650, 196036525, 185012750, 180018850, 171011550, 175070625, 195036650,
    166012950, 18204650, 17807075, 163049175, 188023125, 163052175, 168027925, 18205400, 176010925, 177039825,
    175072125, 16208075, 194020925, 197058725, 176013925, 199028500, 193028575, 173023600, 198034950, 168024925,
    168021925, 190046425, 16907925, 184035125, 16403450, 187011225, 183026000, 163055175, 190028425, 201046050,
    189034800, 194024675, 200014125, 17807825, 167020200, 172037900, 173020600, 186027250, 177043575, 191014075,
    186033250, 167014950, 174024950, 201034800, 196027525, 188020125, 166013700, 179015800, 180019600, 16208825,
    185012000, 172040900, 165023650, 175072875, 198037950, 18206150, 186022750, 16904175, 189027300, 19108075,
    165024400, 166014450, 170074300, 179016550, 173024350, 199027000, 183025250, 187011975, 177042825, 176012425,
    16402700, 17806325, 170054800, 174024200, 174022700, 167017950, 171017550, 170057800, 184038875, 195034400
]

NUM_DOCTORS = 10
ASSIGN_PER_DATA = 3  # 각 데이터는 3명에게 할당
TARGET_PER_DOCTOR = len(data) * ASSIGN_PER_DATA // NUM_DOCTORS  # 300/10=30

# 의사별 리스트 초기화
assignments = {i: [] for i in range(1, NUM_DOCTORS + 1)}
doctor_ids = list(range(1, NUM_DOCTORS + 1))

random.seed(42)

# 데이터 순서를 섞어서 공정하게 배분
random.shuffle(data)

# 각 데이터가 3명의 의사에게 할당되도록, 의사별 부담도 균형 조절
for d in data:
    # 현재 각 의사가 가진 데이터 수를 기준으로 가장 적은 사람부터 3명 선택
    sorted_doctors = sorted(doctor_ids, key=lambda x: len(assignments[x]))
    selected = sorted(sorted_doctors[:ASSIGN_PER_DATA], key=lambda _: random.random())  # 랜덤 섞기
    for s in selected:
        assignments[s].append(d)

# 각 split 출력
for i in range(1, NUM_DOCTORS + 1):
    print("")
    print(f"split_{i} = {assignments[i]}")
